From 9726d319865d7e8ec3919cf4e028faecca3babcc Mon Sep 17 00:00:00 2001
From: Workers DevProd <workers-devprod@cloudflare.com>
Date: Mon, 2 Oct 2023 18:26:03 +0100
Subject: [PATCH 06/15] Remove unsupported profiler UI

---
 front_end/panels/profiler/HeapProfilerPanel.ts | 10 +++-------
 front_end/panels/profiler/ProfilesPanel.ts     |  2 --
 2 files changed, 3 insertions(+), 9 deletions(-)

diff --git a/front_end/panels/profiler/HeapProfilerPanel.ts b/front_end/panels/profiler/HeapProfilerPanel.ts
index d00e720d3e..067d7365e5 100644
--- a/front_end/panels/profiler/HeapProfilerPanel.ts
+++ b/front_end/panels/profiler/HeapProfilerPanel.ts
@@ -25,13 +25,9 @@ export class HeapProfilerPanel extends ProfilesPanel implements UI.ContextMenu.P
                                                                 UI.ActionRegistration.ActionDelegate {
   constructor() {
     const registry = instance;
-    const profileTypes = [
-      registry.heapSnapshotProfileType,
-      registry.trackingHeapSnapshotProfileType,
-      registry.samplingHeapProfileType,
-      registry.detachedElementProfileType,
-    ];
-    super('heap-profiler', profileTypes as ProfileType[], 'profiler.heap-toggle-recording');
+    const profileTypes =
+        [registry.heapSnapshotProfileType];
+    super('heap_profiler', profileTypes as ProfileType[], 'profiler.heap-toggle-recording');
   }
 
   static instance(): HeapProfilerPanel {
diff --git a/front_end/panels/profiler/ProfilesPanel.ts b/front_end/panels/profiler/ProfilesPanel.ts
index 1a64c8ce82..483a0f26e0 100644
--- a/front_end/panels/profiler/ProfilesPanel.ts
+++ b/front_end/panels/profiler/ProfilesPanel.ts
@@ -142,8 +142,6 @@ export class ProfilesPanel extends UI.Panel.PanelWithSidebar implements DataDisp
     this.#saveToFileAction = UI.ActionRegistry.ActionRegistry.instance().getAction('profiler.save-to-file');
     this.#saveToFileAction.setEnabled(false);
     toolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButton(this.#saveToFileAction));
-    toolbar.appendSeparator();
-    toolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButtonForId('components.collect-garbage'));
 
     this.profileViewToolbar = new UI.Toolbar.Toolbar('', this.toolbarElement);
     this.profileViewToolbar.makeWrappable(true);
-- 
2.39.5 (Apple Git-154)

